databaseChangeLog:
  - logicalFilePath: changelog.yml
  - changeSet:
      author: drsteini
      id: "create.table.legacy_location"
      preConditions:
        - onFail: MARK_RAN
        - onError: HALT
        - not:
          - tableExists:
              tableName: legacy_location
      changes:
        - sqlFile:
            path: legacyLocation.sql
            relativeToChangelogFile: true
        - rollback: drop table legacy_location;
  - changeSet:
      author: cschroed
      id: "create.constraint.legacy_location.uniqueStationIxConstraint"
      changes:
        - sqlFile:
            path: uniqueStationIxConstraint.sql
            relativeToChangelogFile: true
        - rollback: alter table mlr_legacy_data.legacy_location drop constraint if exists legacy_location_station_ix;
